#!/bin/csh -f
#set echo

# Check to make sure tabledefs has been created
python lib/tables.py -r >& /dev/null
if($status) then
    echo
    echo Whoops - problems with tabledefs file - aborting
    echo Results of check are:
    python lib/tables.py -r -v
    exit
endif

rshell mkdir /pyboard/lib
rshell cp lib/servo.py \
          lib/wave.py \
          lib/pca9685.py \
          lib/sdcard.py \
          lib/memstats.py \
          lib/tables.py \
          lib/tabledefs \
          lib/helpers.py \
          /pyboard/lib
rshell cp boot.py main.py /pyboard
rshell mkdir /pyboard/anims

echo ''
echo ''

# Check on the results
rshell repl '~ import memstats ~'

# Make the link to commlib in the root directory
cd ..
rm -f commlib.py
ln -s Pico/commlib.py . 

